<ion-view title="段子">
    <ion-content class="has-header padding">
        <div ng-repeat="duanzi in duanzis | orderBy:predicate:reverse" class="list card">
            <div class="item item-text-wrap" ng-bind-html="duanzi.body">

            </div>
            <div class="item item-divider" style="text-align: right;">
                <a href="#" ng-if="favAvailable(duanzi._id)"
                   ng-click="pushFav(duanzi._id)">
                    <i class="ion-ios7-heart-outline favHeart"></i>
                </a>
                <a href="#" ng-if="!favAvailable(duanzi._id)"
                   ng-click="removeFromFav(duanzi._id)">
                    <i class="ion-ios7-heart favHeart"></i>
                </a>
            </div>
        </div>
        <ion-infinite-scroll
                ng-if="count > duanzis.length"
                icon="ion-loading-c"
                on-infinite="fetchDuanzis()">
        </ion-infinite-scroll>
        <div class="bar bar-footer" ng-if="count <= duanzis.length">
            <div class="title"><span >段子没有了，靠你了 <a ng-href="#/tab/publish"><i class="icon ion-edit editOn"></i> </a></span></div>
        </div>


        <!--<div class="row" ng-if="duanzis.length < count">-->
        <!--<button type="button" class="button button-full button-positive"-->
        <!--ng-click="fetchDuanzis()">更多的段子-->
        <!--</button>-->
        <!--</div>-->
    </ion-content>
</ion-view>

